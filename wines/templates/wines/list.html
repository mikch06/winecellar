{% extends "./base.html" %}
{% block content %}
    <main up-main id="list-content" up-hungry>
      <h2>Weine</h2>

      <a up-layer="new modal" up-href="{% url 'wine_new' %}">
        ➕ Neuer Wein
      </a>
{% load static %}
<div class="table-responsive">

<table
    class="table"
    data-toggle="table"
    data-classes="table table-borderless table-hover"
    id="wineTable"
    data-show-columns="true"
    data-search="true"
    data-search-highlight="true"
    data-pagination="true"
    data-page-size="16"
    data-page-list="[25, 50, 100, 200, All]"
    data-filter-control="true"
    data-filter-control-visible="false"
    data-show-search-clear-button="true"
    data-show-filter-control-switch="true">
  <thead>
    <tr>
      <th width="50"><img src="{% static "wines/bootstrap/icons/search.svg" %}" alt="Detail" width="16" height="16" title="Details"></th>
      <th data-sortable="true" data-field="winetype" data-visible="false" data-filter-control="select">Weintyp</th>
      <th data-sortable="true" data-field="winename" data-filter-control="input">Wein</th>
      <th class="d-none d-sm-table-cell" data-sortable="true" data-field="producer" data-filter-control="input">Produzent</th>
      <th class="d-none d-sm-table-cell" data-sortable="true" data-field="country" data-filter-control="select">Land</th>
      <th class="d-none d-sm-table-cell" data-sortable="true" data-field="region" data-filter-control="input">Region</th>
      <th data-sortable="true" data-field="year" data-filter-control="select">Jg.</th>
      <th class="d-none d-sm-table-cell" data-sortable="true" data-field="grapes" data-filter-control="input">Trauben</th>
      <th class="d-none d-sm-table-cell" data-sortable="true" data-field="drinkfrom" data-filter-control="select">trinkbar von</th>
      <th class="d-none d-sm-table-cell" data-sortable="true" data-field="drinkto" data-filter-control="select">trinkbar bis</th>
      <th data-sortable="true" data-field="nmbrbottles" data-filter-control="select"><img src="{% static "wine/bootstrap/icons/basket-fill.svg" %}" alt="Detail" width="16" height="16" title="Detail"></th>
      <th class="d-none d-sm-table-cell" data-sortable="true" data-field="notes" data-visible="false" data-filter-control="input">Notiz</th>
      <th class="d-none d-sm-table-cell" data-sortable="true" data-field="dealer" data-visible="false" data-filter-control="input">Händler</th>
      <th class="d-none d-sm-table-cell" data-sortable="true" data-field="warehouse" data-visible="false" data-filter-control="input">Lagerort</th>
    </tr>
  </thead>
        <tbody>
          {% for wine in wines %}
 <tr class="trlist">
    <td scope="row">
                    <button up-layer="new modal" type="button" up-href="{% url 'wine_detail' wine.pk %}">
                Details <img src="{% static "wines/bootstrap/icons/search.svg" %}" alt="Detail">
              </button>


                
    <td>{{ wine.get_winetype_display }}</td>
    <td>{{ wine.winename }}</td>
    <td class="d-none d-sm-table-cell">{{ wine.producer }}</td>
    <td class="d-none d-sm-table-cell">{{ wine.country }}</td>
    <td class="d-none d-sm-table-cell">{{ wine.region }}</td>
    <td>{{ wine.year|default_if_none:'' }}</td>
    <td class="d-none d-sm-table-cell">{{ wine.grapes }}</td>
    <td class="d-none d-sm-table-cell">{{ wine.drinkfrom|default_if_none:''}}</td>
    <td class="d-none d-sm-table-cell">{{ wine.drinkto|default_if_none:'' }}</td>
    <td>{% if wine.nmbrbottles == 0 %} <b style="color:red">{{ wine.nmbrbottles }}</b>{% elif wine.nmbrbottles %}{{ wine.nmbrbottles }}{% endif %}</td>
    <td>{{ wine.notes }}</td>
    <td>{{ wine.dealer }}</td>
    <td>{{ wine.warehouse }}</td>
  </tr>
          {% empty %}
          <tr><td colspan="5">Keine Weine vorhanden.</td></tr>
          {% endfor %}
        </tbody>
      </table>



      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Jahr</th>
            <th>Region</th>
            <th>Rebsorte</th>
            <th>Aktion</th>
          </tr>
        </thead>
        <tbody>
          {% for wine in wines %}
          <tr>
            <td>{{ wine.winename }}</td>
            <td>{{ wine.year }}</td>
            <td>{{ wine.region }}</td>
            <td>{{ wine.grapes }}</td>
            <td>
              <button up-layer="new modal" up-href="{% url 'wine_detail' wine.pk %}">
                Details
              </button>
            </td>
          </tr>
          {% empty %}
          <tr><td colspan="5">Keine Weine vorhanden.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </main>
{% endblock %}